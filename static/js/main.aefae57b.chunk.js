(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(t,e,a){t.exports=a(25)},18:function(t,e,a){},20:function(t,e,a){},22:function(t,e,a){},25:function(t,e,a){"use strict";a.r(e);var i=a(0),n=a.n(i),o=a(10),c=a.n(o),r=(a(18),a(3)),s=a(4),l=a(6),m=a(5),p=a(7),g=a(1),d=a(11),h=a.n(d),S=(a(20),a(22),function(t){function e(t){var a;Object(r.a)(this,e);var i="";return void 0!==(a=Object(l.a)(this,Object(m.a)(e).call(this,t))).props.trackerKey&&(i=a.props.trackerKey),a.state={connected:void 0!==a.props.trackerKey,trackerKey:i},a.handleChange=a.handleChange.bind(Object(g.a)(Object(g.a)(a))),a.handleTrackerKeyChange=a.handleTrackerKeyChange.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(e,t),Object(s.a)(e,[{key:"handleChange",value:function(t){this.props.onConnect(this.state.trackerKey),this.setState({connected:!0})}},{key:"handleTrackerKeyChange",value:function(t){this.setState({trackerKey:t.target.value})}},{key:"render",value:function(){return n.a.createElement("fieldset",null,n.a.createElement("legend",null,"Enter Tracker Key:"),n.a.createElement("input",{disabled:this.state.connected,onChange:this.handleTrackerKeyChange,value:this.state.trackerKey}),n.a.createElement("button",{className:"trackerNameButton",onClick:this.handleChange,disabled:this.state.connected}," Connect "))}}]),e}(n.a.Component)),y=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(l.a)(this,Object(m.a)(e).call(this,t))).state={collected:t.collected,itemIcon:t.itemIcon,itemName:t.itemName,collectionSlot:t.collectionSlot},a.initialClass="item-image",a.toggledClass="item-image collected",t.startLit&&(a.toggledClass="item-image",a.initialClass="item-image collected"),a.handleClick=a.handleClick.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(e,t),Object(s.a)(e,[{key:"handleClick",value:function(){this.props.onItemToggle(this.props.collectionSlot,!this.props.collected)}},{key:"render",value:function(){return n.a.createElement("div",{className:"item",onClick:this.handleClick},n.a.createElement("img",{className:this.props.collected?this.toggledClass:this.initialClass,src:this.props.itemIcon,alt:this.props.itemName}))}}]),e}(n.a.Component),u=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(l.a)(this,Object(m.a)(e).call(this,t))).onItemToggle=a.onItemToggle.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(e,t),Object(s.a)(e,[{key:"onItemToggle",value:function(t,e){this.props.updateInventory(this.props.playerIndex,t,e)}},{key:"render",value:function(){var t=this,e="tracker";return 2===this.props.displayMode&&(e=this.props.restreamPlayer===this.props.playerIndex?"restreamedTracker":"tracker hidden"),n.a.createElement("div",{className:e},1===this.props.displayMode?n.a.createElement("a",{href:"?trackerType="+this.props.trackerType+"&restreamedPlayer="+this.props.playerIndex+"&trackerKey="+this.props.trackerKey,className:"trackerTitle"},this.props.trackerTitle):null,n.a.createElement("div",{className:1===this.props.displayMode?"trackerBorder":""},n.a.createElement("div",{className:"trackerItems"},this.props.itemList.map(function(e,a){return n.a.createElement(y,{key:a,itemName:e.itemName,itemIcon:e.itemIcon,collectionSlot:e.collectionSlot,collected:(t.props.inventory&e.collectionSlot)>0,onItemToggle:t.onItemToggle,startLit:e.startingState})}))))}}]),e}(n.a.Component),k=[{itemIcon:"./items/charge.png",itemName:"charge",startingState:!1,collectionSlot:1},{itemIcon:"./items/ice.png",itemName:"ice",startingState:!1,collectionSlot:2},{itemIcon:"./items/wave.png",itemName:"wave",startingState:!1,collectionSlot:4},{itemIcon:"./items/spazer.png",itemName:"spazer",startingState:!1,collectionSlot:8},{itemIcon:"./items/plasma.png",itemName:"plasma",startingState:!1,collectionSlot:16},{itemIcon:"./items/hypercharge.png",itemName:"hypercharge",startingState:!1,collectionSlot:1<<20},{itemIcon:"./items/morph.png",itemName:"morph",startingState:!1,collectionSlot:16384},{itemIcon:"./items/varia.png",itemName:"varia",startingState:!1,collectionSlot:4096},{itemIcon:"./items/springball.png",itemName:"springball",startingState:!1,collectionSlot:2048},{itemIcon:"./items/hijump.png",itemName:"hijump",startingState:!1,collectionSlot:128},{itemIcon:"./items/space.png",itemName:"space",startingState:!1,collectionSlot:512},{itemIcon:"./items/gravboots.png",itemName:"gravboots",startingState:!1,collectionSlot:1<<25},{itemIcon:"./items/bomb.png",itemName:"bombs",startingState:!1,collectionSlot:32},{itemIcon:"./items/gravity.png",itemName:"gravity",startingState:!1,collectionSlot:8192},{itemIcon:"./items/ridley.png",itemName:"ridley",startingState:!0,collectionSlot:1<<18},{itemIcon:"./items/speed.png",itemName:"speed",startingState:!1,collectionSlot:1024},{itemIcon:"./items/screw.png",itemName:"screw",startingState:!1,collectionSlot:256},{itemIcon:"./items/metroidsuit.png",itemName:"metroidsuit",startingState:!1,collectionSlot:1<<30},{itemIcon:"./items/crocomire.png",itemName:"crocomire",startingState:!1,collectionSlot:1<<19},{itemIcon:"./items/kraid.png",itemName:"kraid",startingState:!0,collectionSlot:32768},{itemIcon:"./items/phantoon.png",itemName:"phantoon",startingState:!0,collectionSlot:65536},{itemIcon:"./items/draygon.png",itemName:"draygon",startingState:!0,collectionSlot:1<<17},{itemIcon:"./items/shaktool.gif",itemName:"shaktool",startingState:!1,collectionSlot:64},{itemIcon:"./items/spacer.png",itemName:"spacer",startingState:!1,collectionSlot:0}],I=[{itemIcon:"./items/charge.png",itemName:"charge",startingState:!1,collectionSlot:1},{itemIcon:"./items/ice.png",itemName:"ice",startingState:!1,collectionSlot:2},{itemIcon:"./items/wave.png",itemName:"wave",startingState:!1,collectionSlot:4},{itemIcon:"./items/spazer.png",itemName:"spazer",startingState:!1,collectionSlot:8},{itemIcon:"./items/plasma.png",itemName:"plasma",startingState:!1,collectionSlot:16},{itemIcon:"./items/hypercharge.png",itemName:"hypercharge",startingState:!1,collectionSlot:1<<20},{itemIcon:"./items/morph.png",itemName:"morph",startingState:!1,collectionSlot:16384},{itemIcon:"./items/varia.png",itemName:"varia",startingState:!1,collectionSlot:4096},{itemIcon:"./items/springball.png",itemName:"springball",startingState:!1,collectionSlot:2048},{itemIcon:"./items/hijump.png",itemName:"hijump",startingState:!1,collectionSlot:128},{itemIcon:"./items/space.png",itemName:"space",startingState:!1,collectionSlot:512},{itemIcon:"./items/gravboots.png",itemName:"gravboots",startingState:!1,collectionSlot:1<<25},{itemIcon:"./items/bomb.png",itemName:"bombs",startingState:!1,collectionSlot:32},{itemIcon:"./items/gravity.png",itemName:"gravity",startingState:!1,collectionSlot:8192},{itemIcon:"./items/ridley.png",itemName:"ridley",startingState:!0,collectionSlot:1<<18},{itemIcon:"./items/speed.png",itemName:"speed",startingState:!1,collectionSlot:1024},{itemIcon:"./items/screw.png",itemName:"screw",startingState:!1,collectionSlot:256},{itemIcon:"./items/metroidsuit.png",itemName:"metroidsuit",startingState:!1,collectionSlot:1<<30},{itemIcon:"./items/grappling.png",itemName:"grappling",startingState:!1,collectionSlot:1<<19},{itemIcon:"./items/kraid.png",itemName:"kraid",startingState:!0,collectionSlot:32768},{itemIcon:"./items/phantoon.png",itemName:"phantoon",startingState:!0,collectionSlot:65536},{itemIcon:"./items/draygon.png",itemName:"draygon",startingState:!0,collectionSlot:1<<17},{itemIcon:"./items/xray.png",itemName:"xray",startingState:!1,collectionSlot:64},{itemIcon:"./items/spacer.png",itemName:"spacer",startingState:!1,collectionSlot:0}],b=[{itemIcon:"./items/charge.png",itemName:"charge",startingState:!1,collectionSlot:1},{itemIcon:"./items/ice.png",itemName:"ice",startingState:!1,collectionSlot:2},{itemIcon:"./items/wave.png",itemName:"wave",startingState:!1,collectionSlot:4},{itemIcon:"./items/spazer.png",itemName:"spazer",startingState:!1,collectionSlot:8},{itemIcon:"./items/plasma.png",itemName:"plasma",startingState:!1,collectionSlot:16},{itemIcon:"./items/hypercharge.png",itemName:"hypercharge",startingState:!1,collectionSlot:1<<20},{itemIcon:"./items/morph.png",itemName:"morph",startingState:!1,collectionSlot:16384},{itemIcon:"./items/varia.png",itemName:"varia",startingState:!1,collectionSlot:4096},{itemIcon:"./items/springball.png",itemName:"springball",startingState:!1,collectionSlot:2048},{itemIcon:"./items/hijump.png",itemName:"hijump",startingState:!1,collectionSlot:128},{itemIcon:"./items/space.png",itemName:"space",startingState:!1,collectionSlot:512},{itemIcon:"./items/gravboots.png",itemName:"gravboots",startingState:!1,collectionSlot:1<<25},{itemIcon:"./items/bomb.png",itemName:"bombs",startingState:!1,collectionSlot:32},{itemIcon:"./items/gravity.png",itemName:"gravity",startingState:!1,collectionSlot:8192},{itemIcon:"./items/ridley.png",itemName:"ridley",startingState:!0,collectionSlot:1<<18},{itemIcon:"./items/speed.png",itemName:"speed",startingState:!1,collectionSlot:1024},{itemIcon:"./items/screw.png",itemName:"screw",startingState:!1,collectionSlot:256},{itemIcon:"./items/metroidsuit.png",itemName:"metroidsuit",startingState:!1,collectionSlot:1<<30},{itemIcon:"./items/grappling.png",itemName:"grappling",startingState:!1,collectionSlot:1<<19},{itemIcon:"./items/kraid.png",itemName:"kraid",startingState:!0,collectionSlot:32768},{itemIcon:"./items/phantoon.png",itemName:"phantoon",startingState:!0,collectionSlot:65536},{itemIcon:"./items/draygon.png",itemName:"draygon",startingState:!0,collectionSlot:1<<17},{itemIcon:"./items/xray.png",itemName:"xray",startingState:!1,collectionSlot:64},{itemIcon:"./items/missile.png",itemName:"missile1",startingState:!1,collectionSlot:1<<21},{itemIcon:"./items/super.png",itemName:"super1",startingState:!1,collectionSlot:1<<23},{itemIcon:"./items/pbomb.png",itemName:"pbomb",startingState:!1,collectionSlot:1<<24},{itemIcon:"./items/super.png",itemName:"super1",startingState:!1,collectionSlot:1<<27},{itemIcon:"./items/missile.png",itemName:"missile2",startingState:!1,collectionSlot:1<<22},{itemIcon:"./items/etank.png",itemName:"etank1",startingState:!1,collectionSlot:1<<28},{itemIcon:"./items/etank.png",itemName:"etank2",startingState:!1,collectionSlot:1<<29},{itemIcon:"./items/spacer.png",itemName:"spacer",startingState:!1,collectionSlot:0},{itemIcon:"./items/reserve.png",itemName:"reserve",startingState:!1,collectionSlot:1<<26},{itemIcon:"./items/spacer.png",itemName:"spacer",startingState:!1,collectionSlot:0}],v=1,N=2,T=3,f=4,j=function(t){return n.a.createElement("div",null,n.a.createElement("fieldset",null,n.a.createElement("legend",null,"Instructions:"),n.a.createElement("div",{className:"instructions"},"Enter your tracker key above, click connect.",n.a.createElement("br",null),"Add a website capture to your restream, one per runner",n.a.createElement("br",null),"send the url of the tracker (including the ?trackerKey parameter) to your loyal trackers",n.a.createElement("br",null),"any changes they make should be reflected in your restreamed tracker",n.a.createElement("br",null),"if the restreamed tracker isn't showing up, click hide all the trackers, and then wait a few seconds, and show them.  This will refresh the page the restream is using.",n.a.createElement("br",null),n.a.createElement("strong",null,"Code and live data generously provided by Rumbleminze"))))},w=function(t){function e(t){var a;Object(r.a)(this,e);var i,n=(a=Object(l.a)(this,Object(m.a)(e).call(this,t))).queryParams.trackerKey,o=a.queryParams.restreamedPlayer,c=a.queryParams.trackerType,s=k;if(void 0!==c?(i=parseInt(c))===T?s=b:i===f&&(s=I):i=v,a.state={socket:void 0,playerInventory:[0,0,0,0],trackerKey:n,displayMode:v,trackerType:i,restreamPlayer:0,itemList:s},a.updateInventory=a.updateInventory.bind(Object(g.a)(Object(g.a)(a))),a.connectToWebsocket=a.connectToWebsocket.bind(Object(g.a)(Object(g.a)(a))),a.clearInventories=a.clearInventories.bind(Object(g.a)(Object(g.a)(a))),a.connectToNewTrackerKey=a.connectToNewTrackerKey.bind(Object(g.a)(Object(g.a)(a))),a.simulateWebSocketDc=a.simulateWebSocketDc.bind(Object(g.a)(Object(g.a)(a))),a.addPlayer=a.addPlayer.bind(Object(g.a)(Object(g.a)(a))),a.switchToChozo=a.switchToChozo.bind(Object(g.a)(Object(g.a)(a))),a.switchToStandard=a.switchToStandard.bind(Object(g.a)(Object(g.a)(a))),a.switchToArea=a.switchToArea.bind(Object(g.a)(Object(g.a)(a))),void 0!==n){var p=a.connectToWebsocket(n);a.state.socket=p}return void 0!==o&&(a.state.displayMode=N,a.state.restreamPlayer=parseInt(o)),a}return Object(p.a)(e,t),Object(s.a)(e,[{key:"clearInventories",value:function(){var t=this;this.state.playerInventory.map(function(e,a){return t.state.socket.send('{"player":'+a+',"item":'+e+"}")})}},{key:"addPlayer",value:function(){this.updateInventory(this.state.playerInventory.length,1,!0)}},{key:"connectToNewTrackerKey",value:function(t){var e=this.connectToWebsocket(t);this.setState({trackerKey:t,socket:e}),this.setQueryParams({trackerKey:t})}},{key:"connectToWebsocket",value:function(t){var e=this;if(null!==this.state.socket&&void 0!==this.state.socket&&this.state.socket.readyState===this.state.socket.OPEN)return this.state.socket;var a=new WebSocket("wss://sm-rando-tracker.onrender.com/api");return a.onopen=function(){a.send(t),e.timerId&&(clearInterval(e.timerId),e.timerId=void 0)},a.onmessage=function(t){var a=t.data.split(",").map(function(t){return parseInt(t)});e.setState(function(t){return{playerInventory:a}})},a.onclose=function(a){e.timerId||(e.setState({socket:null}),e.timerId=setInterval(function(){var a=e.connectToWebsocket(t);e.setState({socket:a})},5e3))},a}},{key:"updateInventory",value:function(t,e,a){void 0!==this.state.socket&&null!==this.state.socket&&(this.state.socket.readyState===this.state.socket.OPEN?this.state.socket.send('{"player":'+t+',"item":'+e+"}"):console.log("Websocket is not in a ready state: "+this.state.socket.readyState))}},{key:"simulateWebSocketDc",value:function(){this.state.socket.close()}},{key:"switchToChozo",value:function(){this.setState({itemList:b,trackerType:T}),this.setQueryParams({trackerType:T})}},{key:"switchToArea",value:function(){this.setState({itemList:I,trackerType:f}),this.setQueryParams({trackerType:f})}},{key:"switchToStandard",value:function(){this.setState({itemList:k,trackerType:v}),this.setQueryParams({trackerType:v})}},{key:"render",value:function(){var t=this;return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:this.state.displayMode===v?"App-header":"App-header single-player"},this.state.displayMode===v?n.a.createElement(S,{onConnect:this.connectToNewTrackerKey,trackerKey:this.state.trackerKey}):null,n.a.createElement("div",{className:"allTrackers"},this.state.playerInventory.map(function(e,a){return n.a.createElement(u,{key:a,itemList:t.state.itemList,trackerTitle:"Player "+(a+1),playerIndex:a,inventory:e,updateInventory:t.updateInventory,restreamPlayer:t.state.restreamPlayer,displayMode:t.state.displayMode,trackerKey:t.state.trackerKey,trackerType:t.state.trackerType})})),this.state.displayMode===v&&void 0!==this.state.trackerKey?n.a.createElement("button",{onClick:this.clearInventories},"Clear Inventories"):null,this.state.displayMode===v&&this.state.trackerType===T?n.a.createElement("button",{onClick:this.switchToArea},"Switch to Area Rando"):null,this.state.displayMode===v&&this.state.trackerType===f?n.a.createElement("button",{onClick:this.switchToStandard},"Switch to Standard Rando"):null,this.state.displayMode===v&&this.state.trackerType===v?n.a.createElement("button",{onClick:this.switchToChozo},"Switch to Chozo Rando"):null,this.state.displayMode===v?n.a.createElement(j,null):null))}}]),e}(h.a);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[12,2,1]]]);
//# sourceMappingURL=main.aefae57b.chunk.js.map